<html xmlns="http://www.w3.org/1999/xhtml"><head><meta name="generator" content="LERSUS 3.3.0.0" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Корпоративные информационные системы — Теория — Утилита SQL*Plus</title><script language="javascript" type="text/javascript" src="../../00/styles/files/apiwrapper.js"> </script><script language="javascript" type="text/javascript" src="../../00/styles/files/sco.js"> </script><link href="../../00/styles/files/style.css" rel="stylesheet" type="text/css" /></head><body><table id="mainOuter"><tr><td id="topOuter"><table id="topInner"><tr class="row1"><td class="cell1"><div> </div></td><td class="cell2"><div> </div></td><td class="cell3"><div> </div></td><td class="cell4" id="shortcuts"><div><ul class="level0"><li><a href="../../00/content/authors1.html">Авторы</a></li><li>|</li><li><a href="../../00/content/contacts1.html">Контакты</a></li><li>|</li><li><a href="../../00/content/instructions1.html">Методические указания</a></li><li>|</li><li><a href="../../00/content/annotation1.html">Аннотация</a></li><li>|</li><li><a href="#" onclick="history.back(); return false;">Назад</a></li></ul></div></td></tr><tr class="row2"><td class="cell1"><div> </div></td><td class="cell2"><div> </div></td><td class="cell3"><div> </div></td><td class="cell4"><div id="courseTitle">Корпоративные информационные системы</div><div id="courseSubTitle">Физическая организация БД на примере СУБД Oracle : Утилита SQL*Plus</div></td></tr></table></td></tr><tr><td id="contentOuter"><table id="contentInner"><tr><td class="menuOuter"><table class="menuInner"><tr><td><ul class="level0"><li><a href="../../00/styles/courses.html">Содержание курса</a></li><li><span>Теория</span></li><ul class="level1"><li><a href="../../02/content/content1.html">Основные концепции СУБД Oracle</a></li><li><a href="../../02/content/content2.html">Логическая структура</a></li><li><a href="../../02/content/content3.html">Экстенты и сегменты</a></li><li><a href="../../02/content/content4.html">Табличные пространства и файлы данных </a></li><li><a href="../../02/content/content5.html">Процессы инстанции Oracle </a></li><li><a href="../../02/content/content6.html">Структуры памяти ORACLE</a></li><li><a href="../../02/content/content7.html">Создание таблиц с распределением памяти </a></li><li><a href="../../02/content/content8.html">Объекты базы данных</a></li><li><a href="../../02/content/content9.html">Утилита SQL*Plus</a></li><li><a href="../../02/content/content10.html">Работа со словарем данных</a></li><li><a href="../../02/content/content11.html">Введение в аудитинг</a></li></ul><li><span>Практика</span></li><ul class="level1"><li><a href="../../02/content/example1.html">Практика 1. Настройка структур памяти при создании основных объектов БД</a></li><li><a href="../../02/content/example2.html">Лабораторная работа 1. Работа с основными объектами базы и служебной информацией</a></li></ul><li><span>Текущий контроль знаний</span></li><ul class="level1"><li><a href="../../02/content/multiply-choice-test1.html">Введение в сервер Oracle</a></li><li><a href="../../02/content/multiply-choice-test9.html">Объекты схемы базы данных Oracle</a></li></ul><li><a href="../../02/styles/glossary.html">Словарь терминов</a></li><li><a href="../../02/02.pdf" target="_blank">Версия для печати</a></li></ul></td></tr></table></td><td class="content"><div id="content"><div id="topBlankStripe"> </div><span id="lnkcc5a0df6a4f14bbf9d5e73ab41804a6f"> </span><h1 align="left" class="headline-source">     Утилита SQL*Plus</h1><span id="lnk21d716ac16494e01a2567e9d4906eebd"> </span><div class="section"><p align="justify" class="paragraph-source">     Программа SQL*PLUS может быть использована совместно с языком БД SQL и его процедурно языковым расширением, PL/SQL. Язык БД SQL позволяет запоминать и выбирать данные из СУРБД Oracle, PL/SQL позволяет соединять команды SQL в логические процедуры.</p><p align="justify" class="paragraph-source">     SQL*PLUS позволяет манипулировать командами SQL и блоками PL/SQL, и также выполнять много дополнительных задач. С помощью SQL*PLUS возможно:</p><p align="justify" class="paragraph-source">     - вводить, редактировать, запоминать, выбирать и выполнять команды SQL и блоки PL/SQL;     </p><p align="justify" class="paragraph-source">     - форматировать, выполнять вычисления, запоминать и печатать результаты запросов в форме отчетов;</p><p align="justify" class="paragraph-source">     - печатать описания колонок для каждой таблицы;</p><p align="justify" class="paragraph-source">     - иметь доступ и возможность копирования данных между БД SQL;</p><p align="justify" class="paragraph-source">     - посылать сообщения и принимать ответ от конечных пользователей.</p></div><span id="lnk9ddde67c052d46758c9208d0706c9efb"> </span><h2 align="left" class="paragraph-headline-source">     Основные положения SQL*PLUS</h2><span id="lnk0e0dbb0db7d741cc9507f7c5e9db8dfa"> </span><div class="section"><p align="justify" class="paragraph-source">     Приведем основные понятия SQL*PLUS:</p><p align="justify" class="paragraph-source"><i>command </i>- команда, которую вы передаете SQL*PLUS;</p><p align="justify" class="paragraph-source"><i>block </i>- группа команд SQL или PL/SQL связанных вместе процедурной логикой;</p><p align="justify" class="paragraph-source"><i>query </i>- команда SQL, которая выбирает информацию из одной или более таблиц;</p><p align="justify" class="paragraph-source"><i>query results </i>- данные выбранные с помощью запроса;</p><p align="justify" class="paragraph-source"><i>report </i>- результаты запроса отформатированные вами командами SQL*PLUS.</p></div><span id="lnk9876243aefa0442a92c2f7af6fa87742"> </span><div class="section"><p align="justify" class="paragraph-source">     <b>Запуск SQL*PLUS</b></p></div><span id="lnk98df4fe3631f4676803127a3d5f6519f"> </span><div class="section"><p align="justify" class="paragraph-source">     Для запуска SQL*PLUS в режиме командной строки (если известно, где находится файл SQL*PLUS или указан каталог для поиска необходимого файла) необходимо:</p><p align="justify" class="paragraph-source">     - ввести команду SQL*PLUS и нажать [Return]. Это команда ОС стартующая SQL*PLUS;</p><p align="justify" class="paragraph-source">     - ввести имя-пользователя и нажмите [Return]. SQL*PLUS высветит подсказку "Enter password:";</p><p align="justify" class="paragraph-source">     - ввести пароль и нажать [Return] снова. Для обеспечения защиты, пароль не отображается на экране.</p><p align="justify" class="paragraph-source">     Процесс ввода вашего имени и пароля, называется логированием. SQL*PLUS покажет версию ORACLE к которой вы подключились и версии доступных пакетов (например PL/SQL)</p><p align="justify" class="paragraph-source">     При запуске программы с использованием интерфейса Windows (кнопка «Пуск» и выбора утилиты SQL*PLUS из каталога Ora) в диалоговом режиме необходимо зарегистрироваться, введя имя и пароль пользователя, а также базу данных.</p><p align="justify" class="paragraph-source">Имя пользователя -     ХХХХХХ      Scott</p><p align="justify" class="paragraph-source">Пароль пользователя -      ХХХХХХ      tiger</p><p align="justify" class="paragraph-source">База данных -      ХХХХХХ      NTBASE</p></div><span id="lnkf9c60105e21a40d5a20bd8373a9ec440"> </span><div class="section"><p align="justify" class="paragraph-source">     <b>Обработка команд в SQL*PLUS</b></p></div><span id="lnk52a0948a31144f37a90403dca4351aab"> </span><div class="section"><p align="justify" class="paragraph-source">     В SQL*PLUS можно использовать 3 типа команд:</p><p align="justify" class="paragraph-source">     - команды SQL, для работы с информацией в БД;</p><p align="justify" class="paragraph-source">     - блоки PL/SQL, также для работы с информацией в БД;</p><p align="justify" class="paragraph-source">     - команды SQL*PLUS, для форматирования результатов запроса, установки параметров, редактирования и запоминания команд SQL и блоков PL/SQL.</p><p align="justify" class="paragraph-source">     Способ, которым возможно продолжение команды на дополнительных строках, окончания команды, или выполнение команды, зависит от типа команды которую пользователь хочет ввести и выполнить. После ввода команду и указания SQL*PLUS ее выполнить, SQL*PLUS обрабатывает команду и выводит командную подсказку снова, указывая , что можно вводить следующую команду.</p></div><span id="lnk1063739cb8ae4a54ac8b3392d6a6fab6"> </span><h2 align="justify" class="paragraph-headline-source">     Синтаксис команд SQL*PLUS</h2><span id="lnkce2fa15b484a4834ad30cacc3206390f"> </span><div class="section"><p align="justify" class="paragraph-source">     SQL*PLUS имеет синтаксические правила, которые управляют процессом сборки слов в команды. Необходимо следовать им, чтобы вводимые команды правильно выполнялись.</p><p align="justify" class="paragraph-source">     Возможно деление команд SQL на отдельные строки в любых местах, но нельзя разрывать отдельные слова между строками. Таким образом, можно вводить запрос на одной строке (или на нескольких).</p><p align="justify" class="paragraph-source">     Точка с запятой сообщает SQL*PLUS, что требуется выполнить команду. Если пользователь по ошибке нажал [Return] до ввода точки с запятой, SQL*PLUS выведет новый номер строки для продолжения команды. Чтобы выполнить команду, надо ввести точку с запятой и нажать [Return] снова.</p><p align="justify" class="paragraph-source">     Наклонная черта (/) в строке также сообщает SQL*PLUS, что пользователь хочет выполнить команду. Требуется [Return] в конце последней строки команды. SQL*PLUS выведет новый номер строки, после чего необходимо ввести наклонную черту и снова нажать [Return]. SQL*PLUS выполнит команду.</p><p align="justify" class="paragraph-source">     Пустая строка сообщает SQL*PLUS, что ввод команды закончен, но пока не требуется ее выполнять. После нажатия [Return] в конце последней строки команды SQL*PLUS подскажет пользователю новый номер строки.</p><p align="justify" class="paragraph-source">     Если снова нажать [Return], то SQL*PLUS выведет уже свою подсказку. SQL*PLUS не выполнит команду, но запомнит ее в памяти называемой буфер SQL.</p><p align="justify" class="paragraph-source">     Область, в которой SQL*PLUS хранит последнюю введенную команду, называется буфером SQL. Команда остается в буфере до тех пор пока пользователь не введет новую команду SQL. Таким образом, если требуется изменить или выполнить команду снова, можно это сделать без повторного ввода команды.</p><p align="justify" class="paragraph-source">     SQL*PLUS не запоминает точку с запятой или наклонную черту в буфере, которые были введены для выполнения команды.</p><p align="justify" class="paragraph-source">     Буфер SQL является буфером по умолчанию. Можно назначить новый буфер, но SQL*PLUS не требует использования множества буферов. </p><p align="justify" class="paragraph-source">     Можно выполнить (или выполнить заново) текущую команду SQL, посредством ввода команды RUN или командной подсказки команды "/" после командной подсказки.</p><p align="justify" class="paragraph-source">     Команда RUN перед исполнением печатает содержимое буфера; команда "/" просто выполняет команды SQL.</p><p align="justify" class="paragraph-source">     Также можно использовать программы PL/SQL (называются блоками) для манипулирования данными в БД. Блоки PL/SQL начинаются с DECLARE, BEGIN, или имени блока. SQL*PLUS обращается с блока PL/SQL таким же способом как и с командами SQL, кроме точки с запятой или пустой строки, которые не оканчивают и не выполняют блок. Блок PL/SQL завершается точкой (.) на новой строке.</p><p align="justify" class="paragraph-source">     SQL*PLUS хранит блоки, введенные пользователем, в буфере SQL. Выполнить текущий блок можно с помощью команды RUN или "/". SQL*PLUS посылает весь блок PL/SQL к ORACLE RDBMS для обработки. При выполнении блок, команды SQL внутри блока могут вести себя иначе, чем вне блока.</p><p align="justify" class="paragraph-source">     Возможно продолжение длинных команд SQL*PLUS посредством ввода дефиса (соединительной черты) в конце строки и нажатия [Return]. По желанию пользователя, можно ввести пробел до ввода дефиса. SQL*PLUS выведет правую угловую скобку (&gt;) как подсказку для каждой дополнительной строки.</p><p align="justify" class="paragraph-source">     Необязательно заканчивать команду SQL*PLUS с помощью точки с запятой. Когда окончен ввод команды, можно сразу нажать [Return]. Однако, по пожеланию пользователя, можно ввести точку с запятой в конце команды SQL*PLUS.</p></div><span id="lnk43fae94bbf3b4aaab3063d848dfbe381"> </span><div class="section"><p align="justify" class="paragraph-source">     <b>Переменные, влияющие на выполнение команд</b> </p></div><span id="lnke180640735ce4fdabe6a804ec8ba7268"> </span><div class="section"><p align="justify" class="paragraph-source">     Команда SQL*PLUS SET управляет большинством называемых системные переменные - установка которых воздействует на способ выполнения SQL*PLUS-ом ваших команд.</p><p align="justify" class="paragraph-source">     Системные переменные управляют множеством параметров внутри SQL*PLUS, включая ширину колонок по умолчанию для вывода на экран, или показ количества обработанных записей, или длину страницы. Системные переменные также называют переменными команды SET.</p></div><span id="lnkb23ae4dbe2e64253b0b418f1ffe056f5"> </span><div class="section"><p align="justify" class="paragraph-source">     <b>Автоматическое сохранение изменений в БД</b></p></div><span id="lnke1cfc6547a69495d947e3476d55f38a2"> </span><div class="section"><p align="justify" class="paragraph-source">     Благодаря командам SQL DML UPDATE, INSERT, DELETE- которые могут использоваться в блоках PL/SQL- модно проводить изменения в данных БД. Тем не менее, SQL не изменяет информацию в БД пока не будет выполнена команда SQL COMMIT или команды SQL DCL или DDL, например CREATE TABLE.</p><p align="justify" class="paragraph-source">     Можно не откладывать проведение изменений в БД, пока не будет выполнена одна из выше перечисленных команд. Возможность автоматического проведения изменений SQL*PLUS (autocommit) может заставить его проводить изменения в БД после каждой команды SQL- включая INSERT, UPDATE, DELETE- и после каждого выполненного блока PL/SQL.</p><p align="justify" class="paragraph-source">     Возможностью автоматического проведения изменений SQL*PLUS можно управлять с помощью переменной AUTOCOMMIT команды SET. Она имеет следующий формат:</p></div><span id="lnk86487e3f1f804feca8f15dcb40c6a53d"> </span><div class="section"><p align="justify" class="paragraph-source">SET AUTCOMMIT ON включить</p><p align="justify" class="paragraph-source">SET AUTCOMMIT OFF выключить (по умолчанию)</p></div><span id="lnkc6a2b9f80d0047c29268ca8ce85d779d"> </span><div class="section"><p align="justify" class="paragraph-source">     Когда включен режим автоматического проведения изменений, невозможно совершение отката в БД.</p></div><span id="lnkd5bdd500ca4f4fbb8b0de1c3a1794c34"> </span><div class="section"><p align="justify" class="paragraph-source">     <b>Установка окружения для SQL*PLUS</b></p></div><span id="lnkfaff84502c8a4edfb6f6371a1acbe334"> </span><div class="section"><p align="justify" class="paragraph-source">     Для самостоятельной настройки среды SQL*PLUS (например показать текущее время как часть подсказки SQL*PLUS) и затем многократно использовать установки установки данного сеанса. Это можно сделать с помощью файла операционной системы LOGIN.SQL (его называют файлом параметров пользователя [profile]).</p><p align="justify" class="paragraph-source">     Поставляемый ORACLE командный файл DEMOBLD создает файл LOGIN в пользовательской директории. Сначала он будет пустым, кроме предложений DEFINE. </p><p align="justify" class="paragraph-source">     Можно добавить любые команды SQL, блоки PL/SQL, или команды SQL*PLUS в этот файл; при запуске SQL*PLUS, он автоматически ищет пользовательский файл LOGIN (сначала в текущей директории, затем в директориях задействованных в пути [path]) и выполняет его команды (также можно иметь файл параметров "местоположения" [Site]).</p><p align="justify" class="paragraph-source">     Если запустили на выполнение DEMOBLD, а LOGIN файл уже существует в текущей директории, DEMOBLD спросит пользователя, сохранять или нет новый LOGIN с новым именем LOGIN.OLD. При необходимости сохранить свой LOGIN файл, дайте ответ 'yes', а затем переименуйте LOGIN.OLD в LOGIN.SQL. Но DEMODROP не удаляет файл LOGIN; он удаляет только таблицы-примеры.</p></div><span id="lnkf79a18b19f724cf38bd5ad54f9932f85"> </span><h2 align="justify" class="paragraph-headline-source">     Форматирование вывода запроса</h2><span id="lnk9b9e784a09e344569b9dd0ddeb930866"> </span><div class="section"><p align="justify" class="paragraph-source">     С помощью команды SQL*PLUS COLUMN, возможно изменение заголовка и переформатирование данных колонки в результатах запросов.</p><p align="justify" class="paragraph-source">     При выводе результаты запросов, по умолчанию SQL*PLUS использует имена колонок и выражений в качестве заголовков колонок. Имена колонок могут быть короткими и не понятными, а выражения могут быть тяжелы для восприятия. Определение более полезных заголовков колонок достигается с использованием параметра HEADING команды COLUMN в следующем формате:</p></div><span id="lnkd1ecb1c6709b40fc8d161d37ad8544e8"> </span><div class="section"><p align="justify" class="paragraph-source">COLUMN имя_колонки HEADING заголовок_колонки</p></div><span id="lnkde64975e15b945539387318bacc00e2b"> </span><div class="section"><p align="justify" class="paragraph-source">     Для замены заголовка колонки на два или более слова, необходимо заключить новый заголовок в одиночные или двойные кавычки при вводе команды COLUMN. Для вывода заголовка более чем на одной строке допускается использование вертикальной черты (|) там, где необходимо начать новую строку (можно в качестве разделителя использовать другой символ, установив переменную HEADSEP команды SET).</p><p align="justify" class="paragraph-source">     Обычно SQL*PLUS показывает в числах столько цифр, сколько требуется для указанной точности, стандартная точность (ширина) определяется значением переменной NUMWIDTH команды SET (обычно 10). Возможно задание разных форматов для колонок типа NUMBER, с использованием модели формата в команде COLUMN. С помощью модели формата задают вид колонок при печати, для представления цифр используется 9.</p><p align="justify" class="paragraph-source">     Команда COLUMN указывает колонку, которую вы желательно форматировать, и используемую модель, как показано ниже:</p></div><span id="lnkf5857f2eac3145528f6ce41ce902f0a7"> </span><div class="section"><p align="justify" class="paragraph-source">COLUMN имя_колонки FORMAT модель</p></div><span id="lnk2928160a0616438b8408a66a3d19984d"> </span><div class="section"><p align="justify" class="paragraph-source">     Использовать модели форматов можно, чтобы добавить запятые, знак доллара, угловые скобки, ведущие нули к числа форматируемой колонки. Также можно подвергать числа округлению, выводить знак числа справа (обычно он выводится слева), выводить числа в экспоненциальной форме. Чтобы использовать одну форматную модель для одной колонки, требуется объединить модель в одной команде COLUMN. </p><p align="justify" class="paragraph-source">     При указании ширины меньшей, чем ширина заголовка, SQL*PLUS обрезает заголовок. Заметим, что заголовок для NUMBER никогда не урезается. При необходимости назначить аналогичные атрибуты для нескольких колонок, необходимо уменьшить длину вводимых команд с помощью параметра LIKE команды COLUMN. Параметр LIKE приказывает SQL*PLUS скопировать атрибуты вывода из уже определенной колонки в новую колонку, кроме тех параметров, которые задаются в данной команде.</p><p align="justify" class="paragraph-source">     Возможно подавление и восстановление атрибутов вывода, которые были назначены определенной колонке. Для подавления атрибутов колонки вывода колонки, вводится команда COLUMN в следующем формате:</p></div><span id="lnk96e4bcb4700c40d399fbc78d49aa4f52"> </span><div class="section"><p align="justify" class="paragraph-source">COLUMN имя_колонки OFF</p></div><span id="lnk58faeec1e5c34e33a7eb9d7934aee635"> </span><div class="section"><p align="justify" class="paragraph-source">     Фраза OFF сообщает SQL*PLUS, что необходимо использовать атрибуты вывода для данной колонки определенные по умолчанию, но сами атрибуты вывода удалять не надо. Для восстановления атрибутов необходимо ввести команду COLUMN с фразой ON:</p></div><span id="lnkd8dadc8e6a224f1aa3e3b39f90a18266"> </span><div class="section"><p align="justify" class="paragraph-source">COLUMN имя_колонки ON</p></div><span id="lnk766347fc98dc434085c26ad551bdeb47"> </span><h2 align="justify" class="paragraph-headline-source">     Определение заголовков и размеров страниц</h2><span id="lnke3842c1a9da942829b090d7e690e4a4c"> </span><div class="section"><p align="justify" class="paragraph-source">     Слово страница означает полный экран с информацией на вашем дисплее, или страницу печатаемого отчета. Возможно помещение заголовков в начале и конце каждой страницы, установление количество строк на странице, и определение ширину каждой строки.</p><p align="justify" class="paragraph-source">     Для вывода вверху каждой страницы отчета возможно установление заголовка с использованием команды TTITLE. Также можно устанавливать заголовок, печатаемый внизу каждой страницы (команда BTITLE). </p><p align="justify" class="paragraph-source">     Команда TTITLE или BTITLE состоит из имени команды с последующими параметрами, задающими позицию или формат и значение CHAR, которое пользователь может поместить в заданную позицию или в заданном формате. Возможно включение нескольких наборов фраз и значений CHAR:</p></div><span id="lnk773456e872b54335ae636cacb38a948a"> </span><div class="section"><p align="justify" class="paragraph-source">TTITLE фраза_позиция значение_char </p><p align="justify" class="paragraph-source">фраза_позиция значение_char ...</p><p align="justify" class="paragraph-source">или</p><p align="justify" class="paragraph-source">BTITLE фраза_позиция значение_char </p><p align="justify" class="paragraph-source">фраза_позиция значение_char ...</p></div><span id="lnkc390dddac2ac4369aca724dbbb3809d0"> </span><div class="section"><p align="justify" class="paragraph-source">     Часто используемые фразы команд TTITLE и BTITLE приведены в таблице 3. </p></div><span id="lnk8fd4ea2d690e4837912cf41922241574"> </span><div align="center"><div class="inline-table-container"><p align="left" class="unit-title">Таблица 3 - Часто используемые фразы TTITLE и Фраза BTITLE</p><table class="inline-table"><col width="80" /><col width="97" /><col width="388" /><tbody><tr><td style="background-color:#ffffff"><p align="center" class="inline-table"><b>Фразы</b></p></td><td style="background-color:#ffffff"><p align="center" class="inline-table"><b>Пример</b></p></td><td style="background-color:#ffffff"><p align="center" class="inline-table"><b>Описание</b></p></td></tr><tr><td style="background-color:#ffffff"><p align="center" class="inline-table">COL n</p></td><td style="background-color:#ffffff"><p align="center" class="inline-table">COL 72</p></td><td style="background-color:#ffffff"><p align="left" class="inline-table">Помещает следующее CHAR-значение в указанную колонку строки</p></td></tr><tr><td style="background-color:#ffffff"><p align="center" class="inline-table">SKIP n</p></td><td style="background-color:#ffffff"><p align="center" class="inline-table">SKIP 2</p></td><td style="background-color:#ffffff"><p align="left" class="inline-table">Пропуск n строк. Если n &gt; 1, перед следующим CHAR-значением появятся n-1 пустых строк.</p></td></tr><tr><td style="background-color:#ffffff"><p align="center" class="inline-table">LEFT</p></td><td style="background-color:#ffffff"><p align="center" class="inline-table">LEFT</p></td><td style="background-color:#ffffff"><p align="left" class="inline-table">Выравнивает влево следующее CHAR-значение</p></td></tr><tr><td style="background-color:#ffffff"><p align="center" class="inline-table">CENTER</p></td><td style="background-color:#ffffff"><p align="center" class="inline-table">CENTER</p></td><td style="background-color:#ffffff"><p align="left" class="inline-table">Центрирует следующее CHAR-значение</p></td></tr><tr><td style="background-color:#ffffff"><p align="center" class="inline-table">RIGHT</p></td><td style="background-color:#ffffff"><p align="center" class="inline-table">RIGHT</p></td><td style="background-color:#ffffff"><p align="left" class="inline-table">Выравнивает вправо следующее CHAR-значение</p></td></tr></tbody></table></div></div><span id="lnk5473546ce9ba4da2a69e6001cc888f45"> </span><div class="section"><p align="justify" class="paragraph-source">     Обычно, страница отчета содержит верхний заголовок, заголовки колонок, результаты запроса и нижний заголовок. SQL*PLUS выдает длинные отчеты на нескольких последовательных страницах, каждая со своим заголовком и заголовками колонок. Количество данных, выведенное SQL*PLUS-м на каждой странице, зависит от текущих размеров страницы.</p><p align="justify" class="paragraph-source">     По умолчанию размеры страницы, используемые SQL*PLUS, показаны ниже:</p><p align="justify" class="paragraph-source">     - количество строк перед верхним заголовком - 1;</p><p align="justify" class="paragraph-source">     - количество строк на странице, от верхнего заголовка до нижнего заголовка страницы - 14;</p><p align="justify" class="paragraph-source">     - количество символов в строке - 80.</p><p align="justify" class="paragraph-source">     Можно изменять данные установки настраивая на длину экрана вашей ЭВМ, или для печати с помощью системных переменных NEWPAGE и PAGESIZE. Например, это возможно применить, когда требуется распечатать отчет, так как длина листа равна 66 строкам, а не 15 (общее количество строк на странице равно сумме NEWPAGE и PAGESIZE).</p><p align="justify" class="paragraph-source">     Чтобы установить количество строк между началом каждой страницы и верхним заголовком, используется переменная NEWPAGE команды SET:</p><p align="justify" class="paragraph-source">SET NEWPAGE количество_строк</p><p align="justify" class="paragraph-source">     При установке NEWPAGE = 0, SQL*PLUS пропустит ноль строк и напечатает символ подачи формы (formfeed) в начале каждой страницы. На большинстве типов экранов компьютеров, символ подачи формы чистит экран и перемещает курсор в начало первой строки. При печати отчета, символ подачи формы загружает новый лист бумаги, даже если допустимая длина страницы меньше, чем реальная длина листа бумаги.</p><p align="justify" class="paragraph-source">     Для установки количества строк на странице от верхнего заголовка, используется переменная PAGESIZE команды SET:</p><p align="justify" class="paragraph-source">SET PAGESIZE количество_строк</p><p align="justify" class="paragraph-source">     Возможно уменьшение размера строки для центрирования заголовков отчета. Также допустимо увеличение размера строки для печати на широких листах. Изменение ширины строки, производится с использованием переменную LINESIZE команды SET:</p><p align="justify" class="paragraph-source">SET LINESIZE количество_символов</p><p align="justify" class="paragraph-source">     С помощью команды SQL*PLUS SPOOL, возможно сохранение результатов запроса в файле или распечатка их на принтере.</p><p align="justify" class="paragraph-source">     Чтобы сохранить результаты запроса в файле- и напечатать их на экране требуется ввести команду SPOOL в следующей форме:</p><p align="justify" class="paragraph-source">SPOOL имя_файла</p><p align="justify" class="paragraph-source">     SQL*PLUS сохранит всю информацию, которая будет выводиться после команды SPOOL, в указанный файл. Если не было указано расширения в имени файла, SPOOL добавит к имени файла расширение по умолчанию, чтобы указать, что это файл вывода. Это расширение зависит от ОС; обычно оно имеет имя LST или LIS. SQL*PLUS продолжает записывать информацию в файл, пока пользователь не выключит запись в файл, используя SPOOL в следующей форме:</p><p align="justify" class="paragraph-source">SPOOL OFF</p><p align="justify" class="paragraph-source">     Для распечатки результатов запроса, их необходимо записать в файл. Затем, вместо использования SPOOL OFF, вводится команда в следующей форме:</p><p align="justify" class="paragraph-source">SPOOL OUT</p><p align="justify" class="paragraph-source">     SQL*PLUS закончит буферизацию и скопирует содержимое буферного файла на принтер. SPOOL OUT напечатает, но не уничтожит буферный файл после печати.</p></div><span id="lnk3bf23ce23e60436ba688062c96af61bb"> </span><h2 align="justify" class="paragraph-headline-source">     Доступ к БД </h2><span id="lnk09c8de0c10a04da6aa1d2f05f31fa968"> </span><div class="section"><p align="justify" class="paragraph-source">     Для доступа к данным существующей БД, необходимо подключиться к БД. При запуске SQL*PLUS, обычно происходит подключение к БД ORACLE по умолчанию, с именем и паролем, которые указывается во время запуска. После логирования, можно подключиться к БД с другим именем пользователя командой SQL*PLUS CONNECT. Эти имя и пароль должны быть правильными для данной БД.</p><p align="justify" class="paragraph-source">     ORACLE может быть установлен на нескольких компьютерах. Такие компьютеры часто объединяют в сеть, которая позволяет программам на разных ЭВМ быстро и эффективно обмениваться данными. Сетевые компьютеры могут находиться рядом или на больших расстояниях, и объединяться телекоммуникационными связями.</p><p align="justify" class="paragraph-source">     БД на других ЭВМ или другие БД на рабочей ЭВМ (кроме БД по умолчанию) называются удаленными БД (remote). Можно обращаться к удаленной БД, если требуемая БД имеет SQL*NET и обе БД имеют совметимые сетевые драйверы.</p><p align="justify" class="paragraph-source">     К удаленной БД можно подключаться двумя способами:</p><p align="justify" class="paragraph-source">     - из SQL*PLUS, используя команду CONNECT;</p><p align="justify" class="paragraph-source">     - во время запуска SQL*PLUS, используя команду SQL*PLUS;</p><p align="justify" class="paragraph-source">     Чтобы подключиться к удаленной БД используя CONNECT, требуется включить SQL*NET - спецификацию БД в команду CONNECT в следующей форме (вводимые имя и пароль должны быть правильными для удаленной БД):</p><p align="justify" class="paragraph-source">     - CONNECT SCOTT@спецификация_БД</p><p align="justify" class="paragraph-source">     - CONNECT SCOTT/TIGER@спецификация_БД</p><p align="justify" class="paragraph-source">     SQL*PLUS, если необходимо, попросит ввести имя и пароль, и подключится к указанной БД. Данная БД становится базой по умолчанию, пока не произойдет подключение к другой БД, либо не будет выполнено отключение (DISCONNECT), или пользователь не покинет SQL*PLUS.</p><p align="justify" class="paragraph-source">     При подключении к удаленной БД данным способом, можно использовать полный набор команд SQL*PLUS, SQL и блоков PL/SQL. Строка, вводимая как спецификация БД, зависит от протокола SQL*NET на компьютере.</p><p align="justify" class="paragraph-source">     Чтобы подключится к удаленной БД во время запуска SQL*PLUS, во время запуска требуется включить SQL*NET-спецификацию БД в команду SQLPLUS в одном из следующих форматов:</p><p align="justify" class="paragraph-source">     - SQLPLUS SCOTT@спецификация_БД</p><p align="justify" class="paragraph-source">     - SQLPLUS SCOTT/TIGER@спецификация_БД</p><p align="justify" class="paragraph-source">     Требуется указать допустимые имя и пароль пользователя удаленной БД и подставить соответсвующую спецификацию удаленной БД. При необходимости, SQL*PLUS попросит ввести имя и пароль, стартует SQL*PLUS, и подключит пользователя к указанной БД. Данная БД становится базой по умолчанию для данного сеанса работы</p></div></div></td></tr></table></td></tr><tr><td id="bottomOuter"><table id="bottomInner"><tr><td class="cell1"><div> </div></td><td class="cell2"><div>© 2012 ХНУРЭ, ПИ, Широкопетлева М.С., <a href="mailto:mshirokopetleva@gmail.com">mshirokopetleva@gmail.com</a>;   ХНУРЭ, ПИ, Черепанова Ю.Ю.;   ХНУРЭ, ПИ, Мазурова О.А.<br /><a href="http://lersus.de/" title="Данный курс создан с помощью авторской системы LERSUS" target="_blank">Разработано с помощью LERSUS</a></div></td></tr></table></td></tr></table></body></html>